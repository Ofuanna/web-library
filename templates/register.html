<script>
     function confpassword(){
    pword = document.getElementById("password").value
    cpword = document.getElementById("cpassword").value
    console.log(pword,cpword)
    if(pword !== cpword){
        document.getElementById("pwmessage").innerText =
         "password and confirm password not matched";
       //document.getElementById("pwmessage").style.color='red'
        }
        else{
        document.getElementById("pwmessage").innerText = ''
    }
    }

    validate = ()=>{
    fname = document.getElementById("fname").value.trim()
    lname = document.getElementById("lname").value.trim()
    pno = document.getElementById("phone1").value.trim()
    address = document.getElementById("addr").value.trim()
    pword = document.getElementById("password").value.trim()
    cpword = document.getElementById("cpassword").value.trim()

    if(pword !== cpword || fname === '' || lname === ''
     || address === '' || pho === ''){
        alert('All field must not be empty')
        return false
        }
        else{
        return true
    }
    }
</script>
{% extends "base.html" %}

{% block maincontent %}
<div class="justify-content-center">
    <h3 class="title">Sign Up</h3>
    <div class="box">
         {% with messages = get_flashed_messages() %}
            {% if messages %}
                {%for message in messages%}
                <div class="text-danger">
                    {{ message }}
                </div>
                {%endfor%}
            {% endif %}
        {% endwith %}
        <form method="POST" action="/register" onsubmit="validate()">
            <div class="d-flex">
                <div class="mb-3">
                    <label for="fname" class="form-label">First Name</label>
                    <input class="form-control form-control-sm" type="text" id="fname" name="fname" placeholder="First Name" autofocus="" required>
                </div>
                <div class="mb-3">
                     <label for="lname" class="form-label">Last Name</label>
                    <input id="lname" class="form-control form-control-sm" type="text" name="lname" placeholder="Last Name" autofocus="" required>
                </div>
            </div>
                <div class="mb-3">
                     <label for="phone1" class="form-label">Contact</label>
                     <input id="phone1" class="form-control form-control-sm" type="tel" name="phone1" placeholder="Phone 1" required autofocus="">
                </div>

                <div class="mb-3">
                    <label for="addr" class="form-label">Address</label>
                    <textarea id="addr"  placeholder="Resident Address here..." class="form-control form-control-sm"  name="address"></textarea>
                </div>
        <div class="mb-3">
             <label for="email" class="form-label">Email</label>
            <input id="email" class="form-control form-control-sm" type="email" name="email"  placeholder="Email"
                   pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" required>
        </div>
        <div class="mb-3">
             <label for="password" class="form-label">Password</label>
            <input id="password" class="form-control form-control-sm" type="password" name="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" placeholder="Password"
            title="Must contain at least one  number and one uppercase and lowercase letter, and at least 8 or more characters" required>
        </div>

        <div class="mb-3">
             <label for="cpassword" class="form-label">Confirm Password</label>
             <input id="cpassword" class="form-control form-control-sm" type="password" name="cpassword" placeholder="Confirm Password"
                   onblur="confpassword()" required>
            <span id="pwmessage" class="text-danger"></span>
        </div>

            <button class="button is-block is-info is-large is-fullwidth">Sign Up</button>
        </form>
    </div>
</div>
{% endblock %}
